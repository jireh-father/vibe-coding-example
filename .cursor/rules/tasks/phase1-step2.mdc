---
description: 
globs: 
alwaysApply: false
---
# FastAPI μ„λ²„ κΈ°λ³Έ κµ¬μ΅° κµ¬ν„ νƒμ¤ν¬ κ³„ν

## π“‹ νƒμ¤ν¬ κ°μ”
**λ©ν‘**: μµμ €κ°€ μ‡Όν•‘ Agentλ¥Ό μ„ν• API μ„λ²„ κΈ°λ° κµ¬μ¶•
**λ‹¨κ³„**: 2λ‹¨κ³„ (Phase 1)
**μ„ ν–‰ μ”κµ¬μ‚¬ν•­**: 1λ‹¨κ³„ (ν”„λ΅μ νΈ κΈ°λ³Έ κµ¬μ΅° μ„¤μ •)

## π― μ„Έλ¶€ λ©ν‘
- FastAPI κΈ°λ° λ°±μ—”λ“ μ„λ²„ κµ¬μ¶•
- μ¤νΈλ¦¬λ° ν†µμ‹ μ„ μ„ν• κΈ°λ³Έ μ—”λ“ν¬μΈνΈ κµ¬ν„
- ν™•μ¥ κ°€λ¥ν• API κµ¬μ΅° μ„¤κ³„
- TDD λ°©μ‹μ κ°λ° μ§„ν–‰

## π“ κµ¬ν„ ν•­λ©

### 1. FastAPI μ•± μ„¤μ •
- [x] FastAPI μ•± μΈμ¤ν„΄μ¤ μƒμ„± (`backend/main.py`)
- [x] CORS μ„¤μ • μ¶”κ°€
- [x] ν™κ²½ λ³€μ μ„¤μ • κµ¬ν„
- [x] μ•± λΌμ°ν„° λ“±λ΅ κµ¬μ΅° μ„¤μ •

### 2. μ¤ν‚¤λ§ μ •μ
- [x] μ±„ν… κ΄€λ ¨ Pydantic μ¤ν‚¤λ§ μ •μ (`backend/schemas/chat.py`)
  - μ‚¬μ©μ μ”μ²­ μ¤ν‚¤λ§ (ChatRequest)
  - μ„λ²„ μ‘λ‹µ μ¤ν‚¤λ§ (ChatResponse)
  - μ¤νΈλ¦¬λ° μ΄λ²¤νΈ μ¤ν‚¤λ§ (StreamingEvent)

### 3. λΌμ°ν„° κµ¬ν„
- [x] μ±„ν… λΌμ°ν„° μƒμ„± (`backend/routers/chat.py`)
- [x] `/chat` μ—”λ“ν¬μΈνΈ κΈ°λ³Έ κµ¬μ΅° κµ¬ν„
  - POST μ”μ²­ μ²λ¦¬
  - μ¤νΈλ¦¬λ° μ‘λ‹µ κµ¬μ΅° μ„¤μ •
- [x] μ—λ¬ ν•Έλ“¤λ§ μ¶”κ°€

### 4. μ„λΉ„μ¤ λ μ΄μ–΄ κµ¬ν„
- [x] μ±„ν… μ„λΉ„μ¤ κΈ°λ³Έ κµ¬μ΅° μƒμ„± (`backend/services/chat_service.py`)
- [x] Agent νΈμ¶μ„ μ„ν• μΈν„°νμ΄μ¤ μ„¤κ³„
- [x] λΉ„λ™κΈ° μ¤νΈλ¦¬λ° μ²λ¦¬ ν•¨μ κµ¬ν„

### 5. ν…μ¤νΈ μ½”λ“ μ‘μ„±
- [x] μ±„ν… λΌμ°ν„° ν…μ¤νΈ (`tests/test_backend/test_routers/test_chat_router.py`)
- [x] μ±„ν… μ„λΉ„μ¤ ν…μ¤νΈ (`tests/test_backend/test_services/test_chat_service.py`)
- [x] μ¤ν‚¤λ§ κ²€μ¦ ν…μ¤νΈ (`tests/test_backend/test_schemas/test_chat_schemas.py`)

## π“‹ κ°λ° μμ„

1. **ν…μ¤νΈ μΌ€μ΄μ¤ μ‘μ„±**
   - λ¨Όμ € κ° μ»΄ν¬λ„νΈμ μμƒ λ™μ‘μ— λ€ν• ν…μ¤νΈ μ½”λ“ μ‘μ„±
   - TDD μ›μΉ™μ— λ”°λΌ μ‹¤ν¨ν•λ” ν…μ¤νΈ μΌ€μ΄μ¤ κµ¬ν„

2. **μ¤ν‚¤λ§ μ •μ**
   - λ°μ΄ν„° λ¨λΈμ„ λ…ν™•ν μ •μν•μ—¬ API μΈν„°νμ΄μ¤ μ„¤κ³„
   - Type hints ν™μ©ν• λ…ν™•ν• νƒ€μ… μ •μ

3. **μ„λΉ„μ¤ λ μ΄μ–΄ κµ¬ν„**
   - λΉ„μ¦λ‹μ¤ λ΅μ§μ„ λ‹΄λ‹Ήν•  μ„λΉ„μ¤ κ³„μΈµ κµ¬ν„
   - Agentμ™€μ ν†µμ‹ μ„ μ„ν• μΈν„°νμ΄μ¤ μ„¤κ³„

4. **λΌμ°ν„° κµ¬ν„**
   - HTTP μ—”λ“ν¬μΈνΈ μ •μ λ° μ”μ²­ μ²λ¦¬ λ΅μ§ κµ¬ν„
   - μ„λΉ„μ¤ λ μ΄μ–΄ μ£Όμ… λ° ν™μ©

5. **FastAPI μ•± μ„¤μ •**
   - μ „μ²΄ μ•± κµ¬μ„± λ° μ„¤μ •
   - λΌμ°ν„° λ“±λ΅ λ° λ―Έλ“¤μ›¨μ–΄ μ„¤μ •

6. **ν…μ¤νΈ λ° κ²€μ¦**
   - κµ¬ν„λ μ½”λ“μ— λ€ν• ν…μ¤νΈ μ‹¤ν–‰
   - pylintλ¥Ό ν†µν• μ½”λ“ ν’μ§ κ²€μ¦
   - ν•„μ”μ‹ λ¦¬ν©ν† λ§

7. **λ¬Έμ„ν™”**
   - API λ¬Έμ„ μƒμ„± λ° κ²€ν† 
   - μ½”λ“ μ£Όμ„ λ° νƒ€μ… ννΈ μ™„μ„±

## π”§ κΈ°μ  μ¤νƒ λ° λΌμ΄λΈλ¬λ¦¬

- **FastAPI**: μ›Ή ν”„λ μ„μ›ν¬
- **Pydantic**: λ°μ΄ν„° κ²€μ¦ λ° μ„¤μ •
- **pytest**: ν…μ¤νΈ ν”„λ μ„μ›ν¬
- **httpx**: λΉ„λ™κΈ° HTTP ν΄λΌμ΄μ–ΈνΈ
- **asyncio**: λΉ„λ™κΈ° ν”„λ΅κ·Έλλ°
- **SSE-Starlette**: μ„λ²„ μ„ΌνΈ μ΄λ²¤νΈ μ§€μ›